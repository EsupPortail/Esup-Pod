{% load i18n %}
{% load video_filters static %}

{% block page_extra_head %}
<style>
</style>
{% endblock page_extra_head %}

{% if videos_list.count >= 1 %}
	<div class="pod-inner edito-slider">	
		<h2>{{ title |capfirst|truncatechars:43 }}</h2>
		{% if auto_slide %}
		  <div id="carousel_{{container.slug}}_{{ uniq_id }}" class="carousel slide" data-bs-ride="carousel" >
		{% else %}
		  <div id="carousel_{{container.slug}}_{{ uniq_id }}" class="carousel slide" data-bs-ride="false" >
		{% endif %}		
			{% if videos_list.count > 1 %}
			<div class="carousel-indicators">			
				{% for video in videos_list.list %}
					{% if forloop.first %}
						<button type="button" data-bs-target="#carousel_{{container.slug}}_{{ uniq_id }}" data-bs-slide-to="{{ forloop.counter0 }}" class="active" aria-current="true" aria-label="Vidéo {{ forloop.counter0 }}"></button>
					{% else %}
						<button type="button" data-bs-target="#carousel_{{container.slug}}_{{ uniq_id }}" data-bs-slide-to="{{ forloop.counter0 }}" aria-label="Vidéo {{ forloop.counter0 }}"></button>
					{% endif %}
				{% endfor %}
			</div>
			{% endif %}
				
			<div class="carousel-inner">
				{% for video in videos_list.list %}
					{% if forloop.first %}
					<div class="carousel-item active carrousel-video-{{video.id}}">
					{% else %}
					<div class="carousel-item carrousel-video-{{video.id}}">
					{% endif %}
						<div class="col-md-12">
							<div class="card">
								<a href="{{video.get_absolute_url}}" title="{{video.title}}"> 
									<div class="card-img">									
										<img src="{{ video.get_thumbnail_url }}" class="img-fluid">
									</div>
									<div class="carousel-caption d-none d-md-block">
										<h5 class="video_title">{{video.title|capfirst|truncatechars:43}}</h4>
										<p class="video_desc text-muted">{{ video.description|metaformat|safe|striptags|truncatechars:250}}</p>
										<small class="video_time text-muted time d-none d-md-block">{{video.duration_in_time}}</small>						
									</div>							
								</a>
							</div>
						</div>
						
					</div>
				{% endfor %}
			</div>
			{% if videos_list.count > 1 %}
			<button class="carousel-control-prev" type="button" data-bs-target="#carousel_{{container.slug}}_{{ uniq_id }}" data-bs-slide="prev">
				<span class="carousel-control-prev-icon" aria-hidden="true"></span>
				<span class="visually-hidden">Previous</span>
			</button>
			<button class="carousel-control-next" type="button" data-bs-target="#carousel_{{container.slug}}_{{ uniq_id }}" data-bs-slide="next">
				<span class="carousel-control-next-icon" aria-hidden="true"></span>
				<span class="visually-hidden">Next</span>
			</button>
			{% endif %}
		</div>
	</div>
{% endif %}
	
